{% extends "base.html" %}

{% block title %}DGA Analyzer{% endblock %}

{% block heading %}DGA Analyzer{% endblock %}

{% block content %}
<div class="bg-white shadow-md rounded-lg p-6">
    <h2 class="text-xl font-semibold mb-4">Input DGA Sample Data</h2>
    <form id="dgaForm" class="space-y-4">
        <div id="sampleInputs">
            <!-- Sample inputs will be added here dynamically -->
        </div>
        <button type="button" id="addSampleBtn" class="mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
            Add Another Sample
        </button>
        <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            Analyze DGA Samples
        </button>
    </form>

    <div id="chartFeedback" class="mt-4 p-4 bg-yellow-100 text-yellow-800 rounded-md"></div>

    <div id="results" class="mt-8 hidden">
        <h2 class="text-xl font-semibold mb-4">DGA Analysis Results</h2>
        <!-- Results will be displayed here -->
    </div>

    <div id="trendAnalysis" class="mt-8 hidden">
        <h3 class="text-xl font-semibold mb-4">Trend Analysis</h3>
        <div id="trendResults"></div>
        <canvas id="trendChart" width="400" height="200"></canvas>
    </div>
        <div id="trendInterpretation" class="mt-4">
            <!-- Trend interpretation will be inserted here -->
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>
<script src="{{ url_for('static', filename='js/dga_analyzer.js') }}"></script>
{% endblock %}